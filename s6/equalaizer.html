<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body {
            background-color: black;
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        .bar {
            transform-origin: center;
            will-change: transform;

        }

        .circle {
            width: 400px;
            height: 400px;
            border-radius: 50%;
            background-color: black;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }
        svg{
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body>
<div class="circle"></div>
<svg width="1020" height="1004" viewBox="0 0 1020 1004" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g class="bar" filter="url(#filter0_f_2002_6)">
        <path d="M255.142 673.531C216.434 674.514 202.761 653.376 232.605 628.706C310.661 564.184 479.211 442.768 556.93 294.256C714.2 217.978 748.175 371.244 761.389 398.488C774.602 425.732 717.67 605.289 560.4 681.567C445.39 668.712 335.188 671.498 255.142 673.531Z" fill="#D9D9D9"/>
        <path d="M255.142 673.531C216.434 674.514 202.761 653.376 232.605 628.706C310.661 564.184 479.211 442.768 556.93 294.256C714.2 217.978 748.175 371.244 761.389 398.488C774.602 425.732 717.67 605.289 560.4 681.567C445.39 668.712 335.188 671.498 255.142 673.531Z" fill="url(#paint0_linear_2002_6)"/>
    </g>
    <g class="bar" filter="url(#filter1_f_2002_6)">
        <ellipse cx="498.326" cy="510.139" rx="446.069" ry="97.393" transform="rotate(135.951 498.326 510.139)" fill="#D9D9D9"/>
        <ellipse cx="498.326" cy="510.139" rx="446.069" ry="97.393" transform="rotate(135.951 498.326 510.139)" fill="url(#paint1_linear_2002_6)"/>
    </g>
    <g class="bar" filter="url(#filter2_f_2002_6)">
        <ellipse cx="516.768" cy="501.79" rx="440.501" ry="85.8847" transform="rotate(-101.332 516.768 501.79)" fill="#D9D9D9"/>
        <ellipse cx="516.768" cy="501.79" rx="440.501" ry="85.8847" transform="rotate(-101.332 516.768 501.79)" fill="url(#paint2_linear_2002_6)"/>
    </g>
    <g class="bar" filter="url(#filter3_f_2002_6)">
        <ellipse cx="510.04" cy="493.272" rx="442.611" ry="47.2824" transform="rotate(175.053 510.04 493.272)" fill="#D9D9D9"/>
        <ellipse cx="510.04" cy="493.272" rx="442.611" ry="47.2824" transform="rotate(175.053 510.04 493.272)" fill="url(#paint3_linear_2002_6)"/>
    </g>
    <g class="bar" filter="url(#filter4_f_2002_6)">
        <ellipse cx="519.455" cy="502.253" rx="444.123" ry="88.2743" transform="rotate(27.1568 519.455 502.253)" fill="#D9D9D9"/>
        <ellipse cx="519.455" cy="502.253" rx="444.123" ry="88.2743" transform="rotate(27.1568 519.455 502.253)" fill="url(#paint4_linear_2002_6)"/>
    </g>
    <g class="bar" filter="url(#filter5_f_2002_6)">
        <ellipse cx="514.05" cy="509.717" rx="198.278" ry="202.214" transform="rotate(27.1568 514.05 509.717)" fill="#D9D9D9"/>
        <ellipse cx="514.05" cy="509.717" rx="198.278" ry="202.214" transform="rotate(27.1568 514.05 509.717)" fill="url(#paint5_linear_2002_6)"/>
    </g>
    <defs>
        <filter id="filter0_f_2002_6" x="147.814" y="204.582" width="684.017" height="545.584" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feGaussianBlur stdDeviation="34.2997" result="effect1_foregroundBlur_2002_6"/>
        </filter>
        <filter id="filter1_f_2002_6" x="101.599" y="123.154" width="793.454" height="773.97" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feGaussianBlur stdDeviation="34.488" result="effect1_foregroundBlur_2002_6"/>
        </filter>
        <filter id="filter2_f_2002_6" x="327.03" y="0.565041" width="379.477" height="1002.45" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feGaussianBlur stdDeviation="34.488" result="effect1_foregroundBlur_2002_6"/>
        </filter>
        <filter id="filter3_f_2002_6" x="0.0818253" y="363.667" width="1019.92" height="259.21" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feGaussianBlur stdDeviation="34.488" result="effect1_foregroundBlur_2002_6"/>
        </filter>
        <filter id="filter4_f_2002_6" x="53.2361" y="215.824" width="932.438" height="572.857" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feGaussianBlur stdDeviation="34.488" result="effect1_foregroundBlur_2002_6"/>
        </filter>
        <filter id="filter5_f_2002_6" x="245.929" y="239.296" width="536.242" height="540.84" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feGaussianBlur stdDeviation="34.488" result="effect1_foregroundBlur_2002_6"/>
        </filter>
        <linearGradient id="paint0_linear_2002_6" x1="221.989" y1="672.704" x2="321.428" y2="753.268" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FF9500"/>
            <stop offset="0.738775" stop-color="#E94001"/>
        </linearGradient>
        <linearGradient id="paint1_linear_2002_6" x1="449.896" y1="407.459" x2="467.26" y2="545.538" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FF5200"/>
            <stop offset="0.738775" stop-color="#990000"/>
        </linearGradient>
        <linearGradient id="paint2_linear_2002_6" x1="468.943" y1="411.243" x2="482.659" y2="533.391" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FF5200"/>
            <stop offset="0.738775" stop-color="#990000"/>
        </linearGradient>
        <linearGradient id="paint3_linear_2002_6" x1="461.985" y1="443.423" x2="466.159" y2="511.261" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FF5200"/>
            <stop offset="0.738775" stop-color="#990000"/>
        </linearGradient>
        <linearGradient id="paint4_linear_2002_6" x1="471.236" y1="409.186" x2="485.601" y2="534.672" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FF5200"/>
            <stop offset="0.738775" stop-color="#990000"/>
        </linearGradient>
        <linearGradient id="paint5_linear_2002_6" x1="492.523" y1="296.525" x2="619.703" y2="513.042" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FF5200"/>
            <stop offset="0.738775" stop-color="#990000"/>
        </linearGradient>
    </defs>
</svg>



<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
    const bars = document.querySelectorAll(".bar");

    const barSettings = [
        { minX: 0.5, maxX: 0.9, minY: 0.5, maxY: 0.8 },
        { minX: 0.5, maxX: 0.7, minY: 0.5, maxY: 0.7 },
        { minX: 0.5, maxX: 0.8, minY: 0.5, maxY: 0.9 },
        { minX: 0.5, maxX: 0.8, minY: 0.5, maxY: 0.7 },
        { minX: 0.5, maxX: 0.7, minY: 0.5, maxY: 0.8 },
        { minX: 1, maxX: 1.1, minY: 1, maxY: 1.1 } // останній
    ];

    const timelines = [];
    const baseDelay = 0.2;
    const initialScale = 0.2;

    function loopAnimation(bar, index) {
        const settings = barSettings[index];
        const scaleObj = {
            x: index === bars.length - 1 ? settings.minX : initialScale,
            y: index === bars.length - 1 ? settings.minY : initialScale
        };

        const tl = gsap.timeline({
            repeat: -1,
            yoyo: true,
            delay: index * baseDelay,
            defaults: {
                duration: 0.3,
                ease: "sine.inOut",
                onUpdate() {
                    bar.setAttribute(
                        "transform",
                        `scale(${scaleObj.x.toFixed(3)}, ${scaleObj.y.toFixed(3)})`
                    );
                }
            }
        });

        for (let i = 0; i < 10; i++) {
            const nextX = gsap.utils.random(settings.minX, settings.maxX);
            const nextY = gsap.utils.random(settings.minY, settings.maxY);
            tl.to(scaleObj, { x: nextX, y: nextY });
        }

        timelines.push(tl);
    }

    // Старт: встановити лише для неостаннього
    bars.forEach((bar, index) => {
        if (index !== bars.length - 1) {
            bar.setAttribute("transform", `scale(${initialScale}, ${initialScale})`);
        }
        loopAnimation(bar, index);
    });

    // Плавна зупинка після 6 секунд
    setTimeout(() => {
        timelines.forEach(tl => tl.kill());

        bars.forEach((bar, index) => {
            const currentTransform = bar.getAttribute("transform");
            const match = currentTransform.match(/scale\(([^,]+),\s*([^)]+)\)/);

            let currentX = 1;
            let currentY = 1;

            if (match) {
                currentX = parseFloat(match[1]);
                currentY = parseFloat(match[2]);
            }

            const finalX = index === bars.length - 1 ? 1 : 0;
            const finalY = index === bars.length - 1 ? 1 : 0;

            gsap.to({ x: currentX, y: currentY }, {
                x: finalX,
                y: finalY,
                duration: 5,
                ease: "expo.out",
                onUpdate() {
                    const { x, y } = this.targets()[0];
                    bar.setAttribute("transform", `scale(${x.toFixed(3)}, ${y.toFixed(3)})`);
                }
            });
        });
    }, 6000);
</script>


</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body {
            background-color: black;
        }

        .bar {
            transform-origin: center;
            will-change: transform;

        }

        .circle {
            width: 400px;
            height: 400px;
            border-radius: 50%;
            background-color: black;
            position: absolute;
            left: 215px;
            top: 125px;
        }
    </style>
</head>
<body>
<div class="circle"></div>
<svg width="763" height="703" viewBox="0 0 763 703" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g class="bar" filter="url(#filter0_f_2002_9)">
        <path d="M654.153 440.449C670.663 470.245 660.868 494.232 627.492 487.421C551 471.811 405.073 431.09 272.126 468.244C159.644 404.784 258.061 284.949 272.939 258.577C287.818 232.206 438.383 160.183 550.865 223.643C582.73 310.851 623.704 385.498 654.153 440.449Z"
              fill="#D9D9D9"/>
        <path d="M654.153 440.449C670.663 470.245 660.868 494.232 627.492 487.421C551 471.811 405.073 431.09 272.126 468.244C159.644 404.784 258.061 284.949 272.939 258.577C287.818 232.206 438.383 160.183 550.865 223.643C582.73 310.851 623.704 385.498 654.153 440.449Z"
              fill="url(#paint0_linear_2002_9)"/>
    </g>
    <g class="bar" filter="url(#filter1_f_2002_9)">
        <path d="M141.224 491.209C103.509 491.162 89.6729 469.808 118.382 445.349C191.039 383.447 345.971 268.467 415.214 124.669C561.98 53.4856 598.138 205.694 611.352 232.938C624.565 260.181 575.42 435.962 428.653 507.145C320.261 491.544 216.76 491.301 141.224 491.209Z"
              fill="#D9D9D9"/>
        <path d="M141.224 491.209C103.509 491.162 89.6729 469.808 118.382 445.349C191.039 383.447 345.971 268.467 415.214 124.669C561.98 53.4856 598.138 205.694 611.352 232.938C624.565 260.181 575.42 435.962 428.653 507.145C320.261 491.544 216.76 491.301 141.224 491.209Z"
              fill="url(#paint1_linear_2002_9)"/>
    </g>
    <g class="bar" filter="url(#filter2_f_2002_9)">
        <ellipse cx="463.676" cy="252.092" rx="231.405" ry="121.326" transform="rotate(135.951 463.676 252.092)"
                 fill="#D9D9D9"/>
        <ellipse cx="463.676" cy="252.092" rx="231.405" ry="121.326" transform="rotate(135.951 463.676 252.092)"
                 fill="url(#paint2_linear_2002_9)"/>
    </g>
    <g class="bar" filter="url(#filter3_f_2002_9)">
        <ellipse cx="395.431" cy="405.734" rx="231.405" ry="121.326" transform="rotate(-101.332 395.431 405.734)"
                 fill="#D9D9D9"/>
        <ellipse cx="395.431" cy="405.734" rx="231.405" ry="121.326" transform="rotate(-101.332 395.431 405.734)"
                 fill="url(#paint3_linear_2002_9)"/>
    </g>
    <g class="bar" filter="url(#filter4_f_2002_9)">
        <ellipse cx="267.173" cy="230.717" rx="175.459" ry="107.481" transform="rotate(27.1568 267.173 230.717)"
                 fill="#D9D9D9"/>
        <ellipse cx="267.173" cy="230.717" rx="175.459" ry="107.481" transform="rotate(27.1568 267.173 230.717)"
                 fill="url(#paint4_linear_2002_9)"/>
    </g>
    <g class="bar" filter="url(#filter5_f_2002_9)">
        <ellipse cx="402.049" cy="325.717" rx="198.278" ry="202.214" transform="rotate(27.1568 402.049 325.717)"
                 fill="#D9D9D9"/>
        <ellipse cx="402.049" cy="325.717" rx="198.278" ry="202.214" transform="rotate(27.1568 402.049 325.717)"
                 fill="url(#paint5_linear_2002_9)"/>
    </g>
    <defs>
        <filter id="filter0_f_2002_9" x="150.296" y="129.598" width="580.315" height="427.589"
                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feGaussianBlur stdDeviation="34.2997" result="effect1_foregroundBlur_2002_9"/>
        </filter>
        <filter id="filter1_f_2002_9" x="34.4422" y="37.2929" width="647.569" height="538.452"
                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feGaussianBlur stdDeviation="34.2997" result="effect1_foregroundBlur_2002_9"/>
        </filter>
        <filter id="filter2_f_2002_9" x="208.17" y="0.0793228" width="511.013" height="504.025"
                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feGaussianBlur stdDeviation="34.488" result="effect1_foregroundBlur_2002_9"/>
        </filter>
        <filter id="filter3_f_2002_9" x="199.066" y="108.597" width="392.73" height="594.274"
                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feGaussianBlur stdDeviation="34.488" result="effect1_foregroundBlur_2002_9"/>
        </filter>
        <filter id="filter4_f_2002_9" x="34.5097" y="37.0019" width="465.326" height="387.43"
                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feGaussianBlur stdDeviation="34.488" result="effect1_foregroundBlur_2002_9"/>
        </filter>
        <filter id="filter5_f_2002_9" x="133.929" y="55.297" width="536.242" height="540.84"
                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feGaussianBlur stdDeviation="34.488" result="effect1_foregroundBlur_2002_9"/>
        </filter>
        <linearGradient id="paint0_linear_2002_9" x1="667.834" y1="468.354" x2="661.676" y2="349.161"
                        gradientUnits="userSpaceOnUse">
            <stop stop-color="#FF9500"/>
            <stop offset="0.738775" stop-color="#E94001"/>
        </linearGradient>
        <linearGradient id="paint1_linear_2002_9" x1="108.307" y1="489.52" x2="208.567" y2="566.337"
                        gradientUnits="userSpaceOnUse">
            <stop stop-color="#FF9500"/>
            <stop offset="0.738775" stop-color="#E94001"/>
        </linearGradient>
        <linearGradient id="paint2_linear_2002_9" x1="438.552" y1="124.18" x2="486.907" y2="284.307"
                        gradientUnits="userSpaceOnUse">
            <stop stop-color="#FF5200"/>
            <stop offset="0.738775" stop-color="#990000"/>
        </linearGradient>
        <linearGradient id="paint3_linear_2002_9" x1="370.307" y1="277.822" x2="418.662" y2="437.95"
                        gradientUnits="userSpaceOnUse">
            <stop stop-color="#FF5200"/>
            <stop offset="0.738775" stop-color="#990000"/>
        </linearGradient>
        <linearGradient id="paint4_linear_2002_9" x1="248.123" y1="117.401" x2="296.69" y2="255.057"
                        gradientUnits="userSpaceOnUse">
            <stop stop-color="#FF5200"/>
            <stop offset="0.738775" stop-color="#990000"/>
        </linearGradient>
        <linearGradient id="paint5_linear_2002_9" x1="380.522" y1="112.526" x2="507.703" y2="329.043"
                        gradientUnits="userSpaceOnUse">
            <stop stop-color="#FF5200"/>
            <stop offset="0.738775" stop-color="#990000"/>
        </linearGradient>
    </defs>
</svg>


<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
    const bars = document.querySelectorAll(".bar");

    const barSettings = [
        { minX: 0.5, maxX: 0.8, minY: 0.5, maxY: 1 },
        // { minX: 0.5, maxX: 1, minY: 0.5, maxY: 1 },
        // { minX: 0.5, maxX: 1, minY: 0.5, maxY: 1 },
        // { minX: 0.5, maxX: 1, minY: 0.5, maxY: 1 },
        // { minX: 0.5, maxX: 1, minY: 0.5, maxY: 1 },
        //

        { minX: 0.5, maxX: 0.7, minY: 0.8, maxY: 1 },
        { minX: 0.5, maxX: 0.8, minY: 0.5, maxY: 0.8 },
        { minX: 0.5, maxX: 0.8, minY: 0.5, maxY: 0.8 },
        { minX: 0.5, maxX: 0.8, minY: 0.7, maxY: 1 },


        { minX: 0.5, maxX: 1.1, minY: 0.5, maxY: 1.1 }
    ];


    const timelines = [];

    bars.forEach((bar, index) => {
        const settings = barSettings[index];
        const scaleObj = { x: settings.minX, y: settings.minY };

        function loopAnimation() {
            const tl = gsap.timeline({
                repeat: -1,
                yoyo: true,
                defaults: {
                    duration: 1.2,
                    ease: "sine.inOut",
                    onUpdate() {
                        bar.setAttribute(
                            "transform",
                            `scale(${scaleObj.x.toFixed(3)}, ${scaleObj.y.toFixed(3)})`
                        );
                    }
                }
            });

            function addRandomTween() {
                const nextX = gsap.utils.random(settings.minX, settings.maxX);
                const nextY = gsap.utils.random(settings.minY, settings.maxY);

                tl.to(scaleObj, { x: nextX, y: nextY });
            }

            // Створюємо 10 початкових кроків у таймлайні
            for (let i = 0; i < 10; i++) addRandomTween();

            timelines.push(tl);
        }

        // запуск
        loopAnimation();
    });

    // Через 6 секунд: плавна зупинка і scale до 0 або 1
    setTimeout(() => {
        timelines.forEach(tl => tl.kill());

        bars.forEach((bar, index) => {
            const currentTransform = bar.getAttribute("transform");
            const match = currentTransform.match(/scale\(([^,]+),\s*([^)]+)\)/);

            let currentX = 1;
            let currentY = 1;

            if (match) {
                currentX = parseFloat(match[1]);
                currentY = parseFloat(match[2]);
            }

            // Цільові значення
            const finalX = index === 5 ? 1 : 0;
            const finalY = index === 5 ? 1 : 0;

            // Однакова тривалість для всіх, але останній — швидший (він починає з меншого значення, тому досягне швидше)
            const duration = 5;
            const easing = "expo.out";

            gsap.to({ x: currentX, y: currentY }, {
                x: finalX,
                y: finalY,
                duration,
                ease: easing,
                onUpdate() {
                    const { x, y } = this.targets()[0];
                    bar.setAttribute("transform", `scale(${x.toFixed(3)}, ${y.toFixed(3)})`);
                }
            });
        });
    }, 6000);
</script>



</body>
</html>